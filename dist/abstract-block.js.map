{"version":3,"sources":["abstract-block.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;QA6Ba;;;;;;;AAOT,+BAAY,IAAZ,EAAkB,KAAlB,EAAyB,IAAzB,EAA+B;;;AAC3B,mBAAO,QAAQ,OAAR,CADoB;;AAG3B,iBAAK,IAAL,GAAY,IAAZ,CAH2B;AAI3B,iBAAK,KAAL,GAAa,KAAb,CAJ2B;AAK3B,iBAAK,EAAL,GAAU,MAAM,CAAN,EAAS,EAAT,CALiB;AAM3B,iBAAK,IAAL,GAAY,IAAZ,CAN2B;AAO3B,iBAAK,IAAL,GAAY,IAAC,CAAK,KAAL,CAAW,MAAX,GAAqB,KAAK,KAAL,CAAW,CAAX,EAAc,YAAd,CAA2B,gBAA3B,CAAtB,GAAqE,EAArE,CAPe;;AAS3B,iBAAK,gBAAL,GAAwB,wBAAS,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAAT,EAAmC,EAAnC,EAAuC,KAAvC,CAAxB,CAT2B;;AAW3B,+BAAI,KAAJ,CAAU,uBAAuB,IAAvB,GAA8B,MAA9B,GAAqC,KAAK,EAAL,CAA/C,CAX2B;;AAa3B,iBAAK,IAAL,GAb2B;AAc3B,iBAAK,UAAL,GAd2B;SAA/B;;;;;;;gCAoBA,uBAAO;;gCAOP,mCAAY;AACR,iBAAK,KAAL,CAAW,aAAX,CAAyB;AACrB,0BAAU,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAV;AACA,4BAAY,IAAZ;aAFJ,EADQ;;AAMR,iBAAK,IAAL,CAAU,MAAV,CAAiB,OAAjB,CAAyB,EAAzB,CAA4B,QAA5B,EAAsC,KAAK,gBAAL,CAAtC,CANQ;;;gCASZ,6BAAU;AACN,iBAAK,aAAL,GADM;;;gCAIV,yCAAe;AACX,iBAAK,IAAL,CAAU,MAAV,CAAiB,OAAjB,CAAyB,GAAzB,CAA6B,QAA7B,EAAuC,KAAK,gBAAL,CAAvC,CADW;;;gCAIf,+BAAW;;gCAIX,2BAAS;;gCAWT,qCAAa","file":"abstract-block.js","sourcesContent":["/**\n * Copyright Â© 2016, Ambroise Maupate\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is furnished\n * to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n *\n * @file abstract-block.js\n * @author Ambroise Maupate\n */\nimport log from \"loglevel\";\nimport waitForImages from \"waitForImages\";\nimport $ from \"jquery\";\nimport {debounce} from \"utils/debounce\";\n\nexport class AbstractBlock\n{\n    /**\n     * @param  {AbstractPage} page\n     * @param  {String} id\n     * @param  {String} type\n     */\n    constructor(page, $cont, type) {\n        type = type || 'block';\n\n        this.page = page;\n        this.$cont = $cont;\n        this.id = $cont[0].id;\n        this.type = type;\n        this.name = (this.$cont.length) ? this.$cont[0].getAttribute('data-node-name') : '';\n\n        this.onResizeDebounce = debounce(this.onResize.bind(this), 50, false);\n\n        log.debug('    + New block : ' + type + ' - #'+this.id);\n\n        this.init();\n        this.initEvents();\n    }\n\n    /**\n     *\n     */\n    init() {\n\n    }\n\n    /**\n     *\n     */\n    initEvents(){\n        this.$cont.waitForImages({\n            finished: this.onLoad.bind(this),\n            waitForAll: true\n        });\n\n        this.page.router.$window.on('resize', this.onResizeDebounce);\n    }\n\n    destroy() {\n        this.destroyEvents();\n    }\n\n    destroyEvents(){\n        this.page.router.$window.off('resize', this.onResizeDebounce);\n    }\n\n    onResize() {\n\n    }\n\n    onLoad() {\n\n    }\n\n    /**\n     * onMapsReady.\n     *\n     * This method must be dispatched by Base.initMaps callback\n     * method.\n     * @deprecated Use directly AMD modules to load Maps external library.\n     */\n    onMapsReady(){\n\n    }\n}\n"],"sourceRoot":"/source/"}